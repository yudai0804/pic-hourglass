LIST P=PIC16F1827
#include<p16f1827.inc>

CNT0	EQU	0x70
CNT1	EQU	0x71
CNT2	EQU	0x72
    
__CONFIG	_CONFIG1, _FOSC_INTOSC & _WDTE_OFF & _PWRTE_ON & _MCLRE_OFF & _CP_OFF & _CPD_OFF & _BOREN_OFF & _CLKOUTEN_OFF & _IESO_OFF & _FCMEN_OFF
__CONFIG	_CONFIG2, _WRT_OFF & _PLLEN_OFF & _STVREN_OFF & _BORV_LO & _LVP_OFF

ORG 0x0000
    CLRF PORTA
    CLRF PORTB
    BSF BSR, BSR0
    BSF BSR, BSR1
    ; ディジタル入力を受け入れるようにする
    CLRF ANSELA
    CLRF ANSELB
    BCF BSR, BSR1
    MOVLW 0x00
    MOVWF TRISA
    MOVLW 0x30
    MOVWF TRISB
    BCF BSR, BSR0
    CLRF PORTA
    CLRF PORTB
LOOP
    CALL D1
    CALL TIMER_1000MS
    CALL D2
    CALL TIMER_1000MS
    CALL D3
    CALL TIMER_1000MS
    CALL D4
    CALL TIMER_1000MS
    CALL D5
    CALL TIMER_1000MS
    CALL D6
    CALL TIMER_1000MS
    CALL D7
    CALL TIMER_1000MS
    CALL D8
    CALL TIMER_1000MS
    CALL D9
    CALL TIMER_1000MS
    CALL D10
    CALL TIMER_1000MS
    CALL D11
    CALL TIMER_1000MS
    CALL D12
    CALL TIMER_1000MS
    GOTO LOOP
    
    
    
    
    
    
    
    
    
WAIT_D1
    BTFSS PORTB, 4
    GOTO WAIT_D1
    CALL D2
    CALL TIMER_1000MS
WAIT_D2
    BTFSS PORTB, 4
    GOTO WAIT_D2
    GOTO LOOP

D1
    MOVLW 0x04
    MOVWF PORTA
    MOVLW 0x07
    MOVWF PORTB
    RETURN
D2
    MOVLW 0x04
    MOVWF PORTA
    MOVLW 0x0b
    MOVWF PORTB
    RETURN
D3
    MOVLW 0x04
    MOVWF PORTA
    MOVLW 0x0d
    MOVWF PORTB
    RETURN
D4
    MOVLW 0x08
    MOVWF PORTA
    MOVLW 0x07
    MOVWF PORTB
    RETURN
D5
    MOVLW 0x08
    MOVWF PORTA
    MOVLW 0x0b
    MOVWF PORTB
    RETURN
D6
    MOVLW 0x10
    MOVWF PORTA
    MOVLW 0x07
    MOVWF PORTB
    RETURN
D7
    MOVLW 0x04
    MOVWF PORTA
    MOVLW 0x0e
    MOVWF PORTB
    RETURN
D8
    MOVLW 0x08
    MOVWF PORTA
    MOVLW 0x0d
    MOVWF PORTB
    RETURN
D9
    MOVLW 0x08
    MOVWF PORTA
    MOVLW 0x0e
    MOVWF PORTB
    RETURN
D10
    MOVLW 0x10
    MOVWF PORTA
    MOVLW 0x0b
    MOVWF PORTB
    RETURN
D11
    MOVLW 0x10
    MOVWF PORTA
    MOVLW 0x0d
    MOVWF PORTB
    RETURN
D12
    MOVLW 0x10
    MOVWF PORTA
    MOVLW 0x0e
    MOVWF PORTB
    RETURN

TIMER_1000MS
	MOVLW	D'173'
	MOVWF	CNT1
LABEL1
	MOVLW	D'191'
	MOVWF	CNT2
LABEL2
	DECFSZ	CNT2,F
	GOTO	LABEL2
	NOP
	DECFSZ	CNT1,F
	GOTO	LABEL1
	NOP
	RETURN
end